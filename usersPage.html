<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select your User</title>
</head>

<body>
    <section id="users">
        <h3>Select your User</h3>
        <section id="user_list">
            <div id="admin_user">
                <img src="" alt="user_img">
                <button id="" class="login_button" onclick="loginAction(this)">Login</button>
            </div>
            <div id="modal_login">
                <div id="modal_content">
                    <span class="close">&times;</span>
                    <label for="input_pin">Enter your Pin</label>
                    <input type="number" id="input_pin">
                </div>
            </div>
        </section>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const adminUser = localStorage.getItem(currentUser);
            await fetch(`http://localhost:3001/api/childs/father/?father=${adminUser}`,
                {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                })
            .then(response = response.json())
            .then(data => {
                data.forEach(element => {
                    user = `<div id="child_user">
                <img src="${putImg(element.avatar)}" alt="user_img">
                <button id="${element.id}" class="login_button" onclick="loginAction(this)">Login</button>
            </div>`
                });
            })
        });

        function putImg(avatar) {
            switch (avatar) {
                case 1: {return "http://localhost:5500/img/1.svg"}
                case 2: {return "http://localhost:5500/img/2.svg"}
                case 3: {return "http://localhost:5500/img/3.svg"}
                case 4: {return "http://localhost:5500/img/4.svg"}
                case 5: {return "http://localhost:5500/img/5.svg"}
            };
        };

        async function loginAction(buttonClicked) {

        }
    </script>
</body>

</html>